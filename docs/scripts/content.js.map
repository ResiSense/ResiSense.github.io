{"mappings":"A,C,KCAA,CACI,IAAM,EAAa,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAK,CAEjD,EAAwB,SAAS,oBAAoB,CAAC,kBAAkB,CAAC,EAAE,CAC3E,EAAuB,EAAsB,gBAAgB,CAAC,EAAW,IAAI,CAAC,OAC9E,EAAoD,CAAC,EAU3D,SAAS,IACL,IAAK,IAAM,KAAW,EAAsB,CACxC,IAAM,EAAU,EAAQ,OAAO,CAAC,WAAW,GACrC,EAAa,EAAQ,qBAAqB,GAAG,GAAG,CAChD,EAAkB,CAAgB,CAAC,EAAQ,EAAI,EAC/C,EAAiB,GAAc,EAErC,GADA,EAAQ,SAAS,CAAC,MAAM,CAAC,SAAU,GAAc,GAC7C,CAAC,EAAkB,KAC3B,CACJ,CAlBA,EAAW,OAAO,CAAC,AAAA,IACf,IAAM,EAAU,EAAsB,oBAAoB,CAAC,EAAI,CAAC,EAAE,CAC9D,GACA,CAAA,CAAgB,CAAC,EAAI,CAAG,AAiBhC,SAAyB,CAAa,EAClC,IAAM,EAAc,SAAS,aAAa,CAAC,MAC3C,CAAA,EAAY,KAAK,CAAC,QAAQ,CAAG,WAC7B,EAAY,KAAK,CAAC,UAAU,CAAG,SAC/B,EAAY,KAAK,CAAC,MAAM,CAAG,EAC3B,SAAS,IAAI,CAAC,WAAW,CAAC,GAC1B,IAAM,EAAS,OAAO,gBAAgB,CAAC,GAAa,MAAM,CAE1D,OADA,SAAS,IAAI,CAAC,WAAW,CAAC,GACnB,WAAW,EACtB,EA1BgD,iBAAiB,GAAS,gBAAgB,CAAC,cADvF,CAGJ,GAEA,SAAS,gBAAgB,CAAC,mBAAoB,GAC9C,SAAS,gBAAgB,CAAC,SAAU,EAsBxC,C,C","sources":["<anon>","scripts/content.ts"],"sourcesContent":["(() => {\n{\n    const stickyTags = [\n        \"h1\",\n        \"h2\",\n        \"h3\",\n        \"h4\",\n        \"h5\",\n        \"h6\"\n    ];\n    const paintedContentElement = document.getElementsByTagName(\"painted-content\")[0];\n    const stickyHeaderElements = paintedContentElement.querySelectorAll(stickyTags.join(\", \"));\n    const stickyTopHeights = {};\n    stickyTags.forEach((tag)=>{\n        const element = paintedContentElement.getElementsByTagName(tag)[0];\n        if (element) stickyTopHeights[tag] = convertToPixels(getComputedStyle(element).getPropertyValue(\"--this-top\"));\n    });\n    document.addEventListener(\"DOMContentLoaded\", determineStickiness);\n    document.addEventListener(\"scroll\", determineStickiness);\n    function determineStickiness() {\n        for (const element of stickyHeaderElements){\n            const tagName = element.tagName.toLowerCase();\n            const elementTop = element.getBoundingClientRect().top;\n            const stickyTopHeight = stickyTopHeights[tagName] ?? 0;\n            const shouldBeSticky = elementTop <= stickyTopHeight;\n            element.classList.toggle(\"sticky\", elementTop <= stickyTopHeight);\n            if (!shouldBeSticky) break;\n        }\n    }\n    function convertToPixels(value) {\n        const tempElement = document.createElement(\"div\");\n        tempElement.style.position = \"absolute\";\n        tempElement.style.visibility = \"hidden\";\n        tempElement.style.height = value;\n        document.body.appendChild(tempElement);\n        const pixels = window.getComputedStyle(tempElement).height;\n        document.body.removeChild(tempElement);\n        return parseFloat(pixels);\n    }\n}\n})();\n//# sourceMappingURL=content.js.map\n","{\n    const stickyTags = ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'] as const;\n    type StickyTag = typeof stickyTags[number];\n    const paintedContentElement = document.getElementsByTagName('painted-content')[0];\n    const stickyHeaderElements = paintedContentElement.querySelectorAll(stickyTags.join(', '));\n    const stickyTopHeights: { [key in StickyTag]?: number } = {};\n    stickyTags.forEach(tag => {\n        const element = paintedContentElement.getElementsByTagName(tag)[0];\n        if (element) {\n            stickyTopHeights[tag] = convertToPixels(getComputedStyle(element).getPropertyValue('--this-top'));\n        }\n    });\n\n    document.addEventListener('DOMContentLoaded', determineStickiness);\n    document.addEventListener('scroll', determineStickiness);\n    function determineStickiness() {\n        for (const element of stickyHeaderElements) {\n            const tagName = element.tagName.toLowerCase() as StickyTag;\n            const elementTop = element.getBoundingClientRect().top;\n            const stickyTopHeight = stickyTopHeights[tagName] ?? 0;\n            const shouldBeSticky = elementTop <= stickyTopHeight;\n            element.classList.toggle('sticky', elementTop <= stickyTopHeight);\n            if (!shouldBeSticky) { break; }\n        };\n    }\n\n    function convertToPixels(value: string): number {\n        const tempElement = document.createElement('div');\n        tempElement.style.position = 'absolute';\n        tempElement.style.visibility = 'hidden';\n        tempElement.style.height = value;\n        document.body.appendChild(tempElement);\n        const pixels = window.getComputedStyle(tempElement).height;\n        document.body.removeChild(tempElement);\n        return parseFloat(pixels);\n    }\n}"],"names":["stickyTags","paintedContentElement","document","getElementsByTagName","stickyHeaderElements","querySelectorAll","join","stickyTopHeights","determineStickiness","element","tagName","toLowerCase","elementTop","getBoundingClientRect","top","stickyTopHeight","shouldBeSticky","classList","toggle","forEach","tag","convertToPixels","value","tempElement","createElement","style","position","visibility","height","body","appendChild","pixels","window","getComputedStyle","removeChild","parseFloat","getPropertyValue","addEventListener"],"version":3,"file":"content.js.map"}