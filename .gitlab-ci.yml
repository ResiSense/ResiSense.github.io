workflow:
    rules:
        - if: $CI_COMMIT_BRANCH

default:
    interruptible: true
    image: node:18-alpine

    before_script:
        - npm ci

pages:
    stage: deploy
    script:
        - npm run gitlab-actions --if-present
    artifacts:
        paths:
            - docs
    rules:
        - if: $CI_COMMIT_BRANCH == "main"
    environment: production
